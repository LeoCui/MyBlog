---
title: 编译过程
date: 2015-10-10 20:39:51
tags: 
  - 编译原理
categories: 计算机基础
---
我的理解：
 
预处理：处理带#的，如将include的文件内容全部包含进来，处理end if 等.

编译：词法分析，生成汇编代码，编译后没有变量名概念，编译同时对代码进行优化。

汇编：将汇编代码生成机器代码。

连接：现在一个工程比如有很多文件，分开编译后会形成很多个机器代码文件，链接就是就是将这些文件组合起来。分为静态，动态。
静态链接(库)：比如把函数调用部分换成对应的机器代码，将很多的机器代码直接拼在一起形成一个exe文件。
动态链接（库）：比如把函数调用部分换成对应的机器代码的地址，运行的时候在去加载对应的机器代码。这些机器代码都存在.dll 文件中。


机器代码：    Cpu能够直接执行的指令。与机器有关，理论上机器换了，可能机器代码就不能执行了。但是现在 的cpu，intel,AMD,都用的是相同的指令集。所以由于硬件的
原因基本不存在了。剩下的就是操作系统的问题。


c,c++等都不是跨平台的，exe 文件不能在linux 下运行：
原因：  1.文件格式不同, exe文件不止有机器指令等信息，还有其他内容
             2.可能要加载系统的dll文件。


但是可以说c.c++是源代码跨平台的，因为不同平台，不同的编译器之后，是同样的结果。（使用标准库的情况下），如果使用MFC等windows  api的话，代码移植到linux下就不行了。因为缺少对应的系统类库的支持。
但是也可以说c++ 不是跨平台的，比如不同的操作系统，int 的字节长度就不同。
