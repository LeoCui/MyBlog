---
title: c语言gets和scanf的区别
date: 2016-11-03 17:04:43
tags: 
  - c语言
  - gets
  - scanf
categories: c/c++
---

### 今天在写项目的时候遇到了读入不定字符串的问题，涉及到scanf和gets的区别，之前在这个问题上一直没有彻底弄懂，现在总结下。                                            
* 二者在读入字符串时都会在后面加上\0

* scanf在遇到空格，回车，tab的时候停止输入，并且将这些（空格，回车，tab）留在输入缓冲区中。
* gets遇到回车会停止输入，并且清空输入缓冲区
* scanf发现缓冲区有空格，tab,回车会跳过这些继续等待输入
* gets,getchar等遇到缓冲区有空格，tab，回车会读入，然后清空缓冲区。
* 值得一提的是，二者都是不安全的，容易读入恶意代码被攻击。
### 然后在具体的应用中，比如读入未知个数的int,string等,ctrl+z结束（linux下ctrl+d）

```(c)
while(scanf("%s")){

}

--------------------------
while(gets(str)){

}

---------------------------

scnaf("%d",&a);
getchar(); //读入缓冲区遗留的回车
gets(str);
```
